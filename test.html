<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MCQ Test</title>

<style>
body{font-family:Arial;margin:0;background:#f4f6f8}
.header{background:#1e88e5;color:#fff;padding:15px;text-align:center}
.timer{background:#fff;padding:10px;text-align:center;font-weight:bold}
.card{background:#fff;margin:10px;padding:15px;border-radius:6px}
.option{margin:8px 0}
.btn{padding:10px;border:none;border-radius:5px}
.next{background:#1e88e5;color:#fff}
.prev{background:#777;color:#fff}
.submit{background:#43a047;color:#fff;width:100%;margin-top:10px}
</style>
</head>

<body>

<script>
if(!localStorage.getItem("userMobile")){
  window.location.href="login.html";
}
</script>

<div class="header">RAS Test – Demo</div>
<div class="timer">⏱ Time Left: <span id="time">10:00</span></div>

<div class="card">
  <div id="question"></div>
  <div id="options"></div>
</div>

<div class="card">
  <button class="btn prev" onclick="prevQ()">Previous</button>
  <button class="btn next" onclick="nextQ()">Next</button>
  <button class="btn submit" onclick="submitTest()">Submit Test</button>
</div>

<script>
let questions = [
 {
  q:"भारत का राष्ट्रीय पशु कौन है?",
  o:["शेर","बाघ","हाथी","घोड़ा"],
  a:1
 },
 {
  q:"राजस्थान की राजधानी क्या है?",
  o:["जोधपुर","उदयपुर","जयपुर","कोटा"],
  a:2
 },
 {
  q:"संविधान दिवस कब मनाया जाता है?",
  o:["26 जनवरी","15 अगस्त","26 नवम्बर","2 अक्टूबर"],
  a:2
 }
];

let index=0;
let answers={};

function loadQ(){
 document.getElementById("question").innerHTML =
   "<b>Q"+(index+1)+".</b> "+questions[index].q;

 let optHTML="";
 questions[index].o.forEach((opt,i)=>{
   optHTML+=`
   <div class="option">
    <input type="radio" name="opt" 
    ${answers[index]==i?"checked":""}
    onclick="answers[${index}]=${i}">
    ${opt}
   </div>`;
 });
 document.getElementById("options").innerHTML=optHTML;
}
loadQ();

function nextQ(){
 if(index<questions.length-1){index++;loadQ();}
}
function prevQ(){
 if(index>0){index--;loadQ();}
}

function submitTest(){
 let score=0;
 questions.forEach((q,i)=>{
  if(answers[i]==q.a) score++;
 });
 localStorage.setItem("score",score);
 window.location.href="result.html";
}

/* TIMER */
let t=600;
setInterval(()=>{
 let m=Math.floor(t/60);
 let s=t%60;
 document.getElementById("time").innerText=
  `${m}:${s<10?"0"+s:s}`;
 if(t==0) submitTest();
 t--;
},1000);
</script>

</body>
</html>
