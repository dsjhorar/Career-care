<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MCQ Test</title>

<style>
body{font-family:Arial;margin:0;background:#f4f6f8}
.header{background:#1e88e5;color:#fff;padding:15px;text-align:center}
.timer{background:#fff;padding:10px;text-align:center;font-weight:bold}
.card{background:#fff;margin:10px;padding:15px;border-radius:6px}
.option{margin:8px 0}
.btn{padding:10px;border:none;border-radius:5px}
.next{background:#1e88e5;color:#fff}
.prev{background:#777;color:#fff}
.submit{background:#43a047;color:#fff;width:100%;margin-top:10px}
</style>
</head>

<body>

<!-- üîê Login Protection -->
<script>
if(!localStorage.getItem("userMobile")){
  window.location.href="login.html";
}
</script>

<div class="header">Test</div>

<div class="timer">
  ‚è± Time Left: <span id="time">01:00</span>
</div>

<div class="card">
  <div id="question"></div>
  <div id="options"></div>
</div>

<div class="card">
  <button class="btn prev" onclick="prevQ()">Previous</button>
  <button class="btn next" onclick="nextQ()">Next</button>
  <button class="btn submit" onclick="submitTest()">Submit Test</button>
</div>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  
<!-- üîΩ JAVASCRIPT STARTS HERE -->
<script>

/* üîπ QUESTIONS DATA */
let questions = [
 {
  q:"‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§¨ ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•Å‡§Ü?",
  o:["1947","1950","1952","1949"],
  a:1
 },
 {
  q:"‡§∞‡§æ‡§ú‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
  o:["‡§ú‡•ã‡§ß‡§™‡•Å‡§∞","‡§ï‡•ã‡§ü‡§æ","‡§ú‡§Ø‡§™‡•Å‡§∞","‡§¨‡•Ä‡§ï‡§æ‡§®‡•á‡§∞"],
  a:2
 }
];

/* üîπ VARIABLES */
let index = 0;
let answers = {};

/* üîπ LOAD QUESTION */
function loadQ(){
 document.getElementById("question").innerHTML =
   "<b>Q"+(index+1)+".</b> "+questions[index].q;

 let html="";
 questions[index].o.forEach((opt,i)=>{
  html += `
   <div class="option">
    <input type="radio" name="opt"
    ${answers[index]==i?"checked":""}
    onclick="answers[${index}]=${i}">
    ${opt}
   </div>`;
 });
 document.getElementById("options").innerHTML = html;
}
loadQ();

/* üîπ NAVIGATION */
function nextQ(){
 if(index < questions.length-1){
   index++;
   loadQ();
 }
}

function prevQ(){
 if(index > 0){
   index--;
   loadQ();
 }
}

/* üîπ SUBMIT */
function submitTest(){
 let score = 0;
 questions.forEach((q,i)=>{
  if(answers[i] == q.a) score++;
 });
 localStorage.setItem("score", score);
 window.location.href = "result.html";
}

/* üîπ TIMER */
let t = 60;
setInterval(()=>{
 let m = Math.floor(t/60);
 let s = t % 60;
 document.getElementById("time").innerText =
  `0${m}:${s<10?"0"+s:s}`;
 if(t == 0) submitTest();
 t--;
},1000);

</script>
<!-- üîº JAVASCRIPT ENDS HERE -->

</body>
</html>
